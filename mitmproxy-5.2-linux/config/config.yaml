# All mitmproxy options are listed and explained at
# https://docs.mitmproxy.org/stable/concepts-options/

# Replay server responses from a saved file. Type sequence of str.
server_replay: [
  "./flows/test_uob",
  "./flows/test_redreader",
  "./flows/test_materialistic",
]

# Don't remove flows from server replay state after use. This makes it
# possible to replay same response multiple times. Type bool.
# Ensures the request is replayed for all runs
server_replay_nopop: true

# Request's parameters to be ignored while searching for a saved flow to
# replay. Type sequence of str.
# Ensures that requests are matched
server_replay_ignore_params: [
  # App: Materialistic.
  # Timestamp based field.
  "numericFilters",

  # App: Materialistic.
  # Timestamp based field.
  "ts",
]

# Kill extra requests during replay. Type bool.
# Ensures that only requests that matches the replay are executed.
# Non-matched requests default to timeout
server_replay_kill_extra: true

# Stream flows to file as they arrive. Prefix path with + to append.
# Default: None 
save_stream_file: "+./output/flows"